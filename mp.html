<!DOCTYPE html>
<html lang="en">
<head>
    <HTA:Application  ShowInTaskBar="no" contextmenu="no" BorderStyle="static" selection="no" MaximizeButton="no">
        <meta charset="UTF-8">
        <meta http-equiv="Page-Enter" content="revealTrans(duration=5.0, transition=20)">
        <title>冒泡排序 by HJX</title>
        <style>
            button{         width:400px;
                height: 50px;text-align:center;
            }
            LI{font-size:64px;
                background:#64b2ca;font-weight:bold;
                text-align:center;
                letter-spacing:20px;
                font-family:Microsoft YaHei;
            }
            body{
                margin: 0 auto;background:#ecedf0 url("http://www.yuanxiapi.cn/api/img/") fixed;background-repeat:repeat;text-align:center;background-position: center center;overflow: hidden;background-size: contain;}
            </style>
        </head>
        <script>
            if (window.Event)
                document.captureEvents(Event.MOUSEUP);
            function nocontextmenu(){
                event.cancelBubble = true
                event.returnValue = false;
                return false;
            }
            function norightclick(e){
                if (window.Event){
                   if (e.which == 2 || e.which == 3)
                       return false;
               }
               else
                   if (event.button == 2 || event.button == 3){
                    event.cancelBubble = true
                    event.returnValue = false;
                    return false;
                }
            }
            document.oncontextmenu = nocontextmenu;
            document.onmousedown = norightclick;
            function time() {
             var vWeek, vWeek_s, vDay;
             vWeek = ["星期天", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
             var date = new Date();
             year = date.getFullYear();
             month = date.getMonth() + 1;
             day = date.getDate();
             hours = date.getHours();
             minutes = date.getMinutes();
             seconds = date.getSeconds();
             vWeek_s = date.getDay();
             document.getElementById("time").innerHTML = "  \n\n"+year + "年" + month + "月" + day + "日" + "\t" + hours + ":" + minutes + ":" + seconds + "\t" + vWeek[vWeek_s]+"\n\n";
         };
         setInterval("time()", 1);
         function appendEle(info) {
            var node = document.createElement("LI");
            var textNode = document.createTextNode(info);
            node.appendChild(textNode);
            document.getElementById("add").appendChild(node);
        }

        function clickResponse1() {                    
        //定义函数clickResponse1

            num=document.getElementById("srk").value.split(/[^0-9.-]/); 
            //获取输入框内容，作为一个字符串整体存入变量num中

            // num=num.split(/[^0-9.-]/);   //关键点！！！
            //以指定的分隔符将字符串num分割为数组，类比sscanf 
            //其中/[^0-9.-]/为正则表达式，表示除数字、负号、小数点之外的所有符号

            // for (var i = 0; i < num.length; i++) { //num.length表示数组长度
            //     num[i] = Number(num[i]);
            // }
            //因为转换之后的数组元素仍然是字符串，需要用Number()函数强转为数字（负数、小数也支持）

            //以下为冒泡排序部分
            var max;
            for (var i = 0; i < num.length; i++) {
                　　for (var j = 0; j < num.length-1; j++) {
                 {
                    if (num[j] < num[j+1]) {
                        max = num[j+1];
                        num[j+1] = num[j];
                        num[j] = max;
                    　　 }
                }
            }
        }
        document.title = '冒泡降序排序 by HJX';
        appendEle("从大到小排序："+num);
        document.title = '冒泡降序排序 by HJX';
    }
    function clickResponse2() {
        var n=document.getElementById("srk").value
        if (n == null ){
            window.opener = null; 
            window.open('', '_self'); 
            window.close() 
        }
        var r=n.split(/[^0-9.-]/);
        n=r.length;
        var arr = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
        arr.length=n;
        for (var i = 0; i < n; i++) {
            arr[i] = Number(r[i]);
        }
        var max;
        for (var i = 0; i < n; i++) {
            　　for (var j = 0; j < n-1; j++) {
             {
                if (arr[j] > arr[j+1]) {
                    max = arr[j+1];
                    arr[j+1] = arr[j];
                    arr[j] = max;
                　　 }
            }
        }
    }
    document.title = '冒泡升序排序 by HJX';
    appendEle("从小到大排序："+arr);
    document.title = '冒泡升序排序 by HJX';
}
</script>
<body  
oncontextmenu="return false" 
onselectstart="return false" 
ondragstart="return false" 
onbeforecopy="return false"
onselect=document.selection.empty() 
onkeydown="if(event.keyCode==27) return false;" 
οnmοuseup='document.selection.empty()' 
οnmοusedown='document.selection.empty()'
oncopy = "return false">
<input type="button" style="color:green;font-size:30px;background:rgb(236, 237, 241);font-weight:bold;" onclick="javascript:location.reload();" value="点我重置此程序">
<br> 
<span style="color:green;font-size:50px;background:rgb(236, 237, 241);font-weight:bold;">
    <span id="time" style="color:blue;font-family:Comic Sans MS"></span>
    <br> 
    冒泡排序 by HJX
    <br> 
    请输入数组:(格式:1 3 5 7……)
</span>
<br>
<input style="color:purple;font-size:72px;font-family:HeiTi" type="text" id="srk">
<br>
<br>
<button style="color:black;text-align:center;font-size:24px;font-family:KaiTi" id="b1" onclick='clickResponse1();'>降序排序</button>
<br>
<br>
<button style="color:black;text-align:center;font-size:24px;font-family:KaiTi" id="b2" onclick='clickResponse2()'>升序排序</button>
<div id="add"></div>
</body>
</html>